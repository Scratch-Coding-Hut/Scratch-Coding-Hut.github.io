<!DOCTYPE html>
<html>
<head>
  <title>Coding Hut Orders API</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="text/javascript">
    function getParameterByName(name, url = window.location.href) {
      name = name.replace(/[\[\]]/g, "\\$&");
      const regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)");
      const results = regex.exec(url);
      if (!results) return null;
      if (!results[2]) return '';
      return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    const username = getParameterByName('username');

    let jsonResponse;

    switch (username) {
      case 'MyScratchedAccount':
        jsonResponse = {
          status: 500,
          "completed-orders": 6,
          "pending-orders": 0
        };
        break;
      case 'kRxZy_kRxZy':
        jsonResponse = {
          status: 500,
          "completed-orders": 2,
          "pending-orders": 0
        };
        break;
      case 'staff3':
        jsonResponse = {
          status: 200,
          user: "staff3",
          description: "Staff account"
        };
        break;
      default:
        jsonResponse = {
          status: 400,
          error: "Invalid Request - Username does not exist in orders database"
        };
    }

    // Clear and return JSON as plain text
    document.addEventListener('DOMContentLoaded', () => {
      document.body.innerText = JSON.stringify(jsonResponse, null, 2);
    });
  </script>
</head>
<body>
</body>
</html>
